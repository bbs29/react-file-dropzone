(this["webpackJsonpreact-file-dropzone"]=this["webpackJsonpreact-file-dropzone"]||[]).push([[0],{19:function(e,t,a){e.exports=a(47)},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),l=(a(24),a(3)),o=a.n(l),i=a(6),u=a(2),d=a(5),m=(a(26),a(27),function(e){var t=n.useRef(),a=n.useState(!1),r=Object(d.a)(a,2),c=r[0],s=r[1];return n.createElement("div",{className:"dropzone-wrapper ".concat(e.className," ").concat(e.disabled?"disabled":"")},n.createElement("div",{className:"w-100 dropzone p-2 rounded d-flex flex-column justify-content-center align-items-center ".concat(c?"highlight":""),onDragOver:function(t){t.preventDefault(),e.disabled||s(!0)},onDragLeave:function(e){e.preventDefault(),s(!1)},onDrop:function(t){if(t.preventDefault(),!e.disabled){if(t.dataTransfer&&t.dataTransfer.files)return e.onFilesAdded(Array.from(t.dataTransfer.files)),void s(!1);e.onFilesAdded([]),s(!1)}}},n.createElement("input",{ref:function(e){return t=e},className:"d-none",type:"file",accept:e.accept?e.accept:"",multiple:!!e.multiple,onChange:function(t){t.preventDefault(),e.disabled||(t.target&&t.target.files?e.onFilesAdded(Array.from(t.target.files)):e.onFilesAdded([]))}}),n.createElement("span",{className:"pt-1"},n.createElement("i",{className:"material-icons"},"cloud_upload")),n.createElement("p",{className:"mb-0 pb-0"},"Drag and drop"),n.createElement("p",{className:"mb-1"},"or"),n.createElement("button",{type:"button",className:"btn btn-secondary w-25 mb-1",disabled:e.disabled,onClick:function(){e.disabled||t&&t.click()},style:{cursor:e.disabled?"default":"pointer"}},"Upload"),e.validationMessages&&e.validationMessages.length?e.validationMessages.map((function(e,t){return n.createElement("small",{className:"pb-1",key:t},e)})):null))}),p=(a(28),function(e){return r.a.createElement("div",{className:"progress-bar-container w-100 rounded"},r.a.createElement("div",{className:"progress h-100 m-0 rounded",style:{width:"".concat(e.progress,"%")}}))}),f=a(18),b=a.n(f).a.create({baseURL:"".concat("https://react-file-upload-service.herokuapp.com/")}),v=function(){var e=Object(i.a)(o.a.mark((function e(t,a,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n(t,a)}},(c=new FormData).append("file",t,t.name),e.abrupt("return",b.post("upload",c,r));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();var g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),f=l[0],b=l[1],g=function(e,t){var n=Object(u.a)(a);n[t].status="Progress",n[t].uploadProgress=e,c(n)},E=function(e,t){switch(e.status){case"Complete":return r.a.createElement("span",null,r.a.createElement("i",{style:{color:"#28a745"},className:"material-icons"},"check_circle"));case"Fail":return r.a.createElement("span",null,r.a.createElement("i",{style:{color:"#ff0000bf"},className:"material-icons"},"error"));case"Progress":return r.a.createElement("div",{className:"w-25"},r.a.createElement(p,{progress:e.uploadProgress}));case"None":return r.a.createElement("span",{style:{cursor:f?"not-allowed":"pointer"},onClick:function(){return function(e){var t=Object(u.a)(a);t.splice(e,1),c(t)}(t)}},r.a.createElement("i",{className:"material-icons"},"delete"))}};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column align-items-center"},r.a.createElement("h1",{className:"mt-4 mb-4 p-2"},"File upload and dropzone"),r.a.createElement("section",{className:"w-50 mt-2 mb-4"},r.a.createElement(m,{disabled:f,multiple:!0,onFilesAdded:function(e){var t=e.map((function(e){return{file:e,status:"None",uploadProgress:0}}));c([].concat(Object(u.a)(a),Object(u.a)(t)))}})),r.a.createElement("section",{className:"w-50 d-flex flex-column "},a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pt-2 pb-2 mb-3 border",style:{maxHeight:"200px",overflowY:"auto"}},a.map((function(e,t){return r.a.createElement("div",{className:"p-1 pl-2 pr-2 d-flex justify-content-between align-items-center",key:t},r.a.createElement("span",{className:"d-inline-block text-truncate",style:{maxWidth:"300px"}},e.file.name),E(e,t))}))),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("button",{type:"button",disabled:f,className:"btn btn-danger w-25",onClick:function(){c([])}},"Reset"),r.a.createElement("button",{type:"button",disabled:f,className:"btn btn-success w-25",onClick:function(){try{b(!0),Promise.allSettled(a.map(function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.file,a,g);case 2:return n=e.sent,e.abrupt("return",{response:n,index:a});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then((function(e){var t=Object(u.a)(a);e.map((function(e){return"fulfilled"===e.status&&(t[e.value.index].uploadProgress=100,t[e.value.index].status="Complete"),null})),t=Object(u.a)(t).map((function(e){return"Progress"===e.status&&(e.status="Fail",e.uploadProgress=0),e})),c(t)})),b(!1)}catch(e){}}},"Submit"))):null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(46);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.69fd1ef7.chunk.js.map